{"version":3,"sources":["components/footer.js","components/motion.js","components/videoplayer.js"],"names":["React","memo","props","t","useTranslation","className","style","animationDelay","href","target","rel","justifyContent","H","Motion","chart","motion","this","handleKeyEvents","e","window","event","which","togglePlayPause","playRange","value","round","parseFloat","updateChart","preventDefault","paused","options","merge","defaultOptions","dataSeries","dataLength","startIndex","series","splat","labels","length","Highcharts","each","index","playControls","createElement","id","renderTo","playPauseBtn","title","playIcon","type","min","max","step","magnet","pick","playOutput","name","axisLabel","innerHTML","format","Date","addEvent","attractToStep","focus","inputValue","autoPlay","play","updateConfirmedCases","fullData","selectedDate","transform","res","v","k","push","x","y","c","updatePredictedCases","VIDEO_PLAYER","predictionLookAhead","prototype","enabled","loop","updateInterval","pauseIcon","reset","changeButtonType","timer","setInterval","playUpdate","pause","clearInterval","seriesKey","data","roundedInput","currentAxisValue","hasOwnProperty","isEmpty","TT","setData","redraw","obj","Object","toString","call","number","Math","Chart","callbacks","useState","setOptions","chartOptions","text","height","dataGrouping","forced","units","color","legend","align","verticalAlign","layout","floating","tooltip","formatter","formatNumber","credits","xAxis","tickInterval","range","yAxis","tickAmount","useEffect","axios","get","then","keys","highlightedDate","showPredictions","Helmet","content","highcharts"],"mappings":"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","file":"static/js/6.2aed72fb.chunk.js","sourcesContent":["import React from 'react';\nimport * as Icon from 'react-feather';\nimport {useTranslation} from 'react-i18next';\n\nfunction Footer(props) {\n  const {t} = useTranslation();\n\n  return (\n    <footer className=\"fadeInUp\" style={{animationDelay: '2s'}}>\n      <h5>{t('We stand with everyone fighting on the frontlines')}</h5>\n\n      <a\n        href=\"https://www.facebook.com/indiacovidseva\"\n        target=\"_blank\"\n        rel=\"noopener noreferrer\"\n        className=\"button facebook\"\n        style={{justifyContent: 'center'}}\n      >\n        <Icon.Facebook />\n        <span>{t('View updates on Facebook')}</span>\n      </a>\n\n      <a\n        href=\"https://twitter.com/indiacovidseva\"\n        target=\"_blank\"\n        rel=\"noopener noreferrer\"\n        className=\"button twitter\"\n        style={{justifyContent: 'center'}}\n      >\n        <Icon.Twitter />\n        <span>{t('Follow us on Twitter')}</span>\n      </a>\n\n      <a\n        href=\"https://github.com/VICS-CORE/covid19india-react\"\n        className=\"button github\"\n        target=\"_blank\"\n        rel=\"noopener noreferrer\"\n      >\n        <Icon.GitHub />\n        <span>{t('Open Sourced on GitHub')}</span>\n      </a>\n\n      <h5>Based on covid19india.org</h5>\n\n    </footer>\n  );\n}\n\nexport default React.memo(Footer);\n","/**\n * @license http://creativecommons.org/licenses/by-sa/4.0/ Creative Commons Attribution-ShareAlike 4.0 International (CC BY-SA 4.0)\n * @author  Lars Cabrera\n * @version 1.0.9\n */\n\nimport {format} from 'date-fns';\nimport Highcharts from 'highcharts/highstock';\nimport {transform, isEmpty} from 'lodash';\nimport {VIDEO_PLAYER} from '../constants'\nimport 'font-awesome/css/font-awesome.min.css';\n\n// JSLint options:\n/* global window*/\n(function (H) {\n  // Check if object is array\n  function isArray(obj) {\n    return Object.prototype.toString.call(obj) === '[object Array]';\n  }\n\n  // Sets up motion ready to use\n  function Motion(chart) {\n    const motion = this;\n\n    this.chart = chart;\n    this.paused = true;\n    this.options = H.merge(this.defaultOptions, this.chart.options.motion);\n    this.dataSeries = [];\n    this.dataLength = 0;\n    this.options.startIndex = 0;\n    motion.options.series = H.splat(motion.options.series);\n    motion.dataLength = motion.options.labels.length;\n    Highcharts.each(this.chart.series, function (series, index) {\n      motion.dataSeries[index] = series;\n    });\n\n    // Play-controls HTML-div\n    this.playControls = H.createElement(\n      'div',\n      {\n        id: 'play-controls',\n      },\n      null,\n      this.chart.renderTo,\n      null\n    );\n\n    // Play/pause HTML-button\n    this.playPauseBtn = H.createElement(\n      'button',\n      {\n        id: 'play-pause-button',\n        title: 'play',\n      },\n      null,\n      this.playControls,\n      null\n    );\n    this.playPauseBtn.className = this.options.playIcon;\n    this.playPauseBtn.value = 'Play';\n\n    // Play-range HTML-input\n    this.playRange = H.createElement(\n      'input',\n      {\n        id: 'play-range',\n        type: 'range',\n        min: 0,\n        max: this.dataLength - 1,\n        step: this.options.magnet.step,\n      },\n      null,\n      this.playControls,\n      null\n    );\n    // Important: max must be set before value in order to allow for\n    // higher numbers than 100.\n    this.playRange.value = H.pick(this.options.startIndex, this.dataLength - 1);\n\n    // Play-range HTML-output\n    this.playOutput = H.createElement(\n      'label',\n      {\n        id: 'play-output',\n        name: this.options.axisLabel,\n      },\n      null,\n      this.playControls,\n      null\n    );\n    this.playOutput.innerHTML = format(\n      new Date(this.options.labels[this.round(this.playRange.value)]),\n      'dd MMM, yyyy'\n    );\n\n    // Common key event handler function\n    function handleKeyEvents(e) {\n      e = e || window.event;\n      switch (e.which) {\n        case 32: // Space\n          motion.togglePlayPause();\n          break;\n        case 37: // Left\n          motion.playRange.value = motion.round(\n            parseFloat(motion.playRange.value) - 1\n          );\n          motion.updateChart(motion.playRange.value);\n          break;\n        case 39: // Right\n          motion.playRange.value = motion.round(\n            parseFloat(motion.playRange.value) + 1\n          );\n          motion.updateChart(motion.playRange.value);\n          break;\n        default:\n          return;\n      }\n      e.preventDefault();\n    }\n\n    // Bind controls to events\n    Highcharts.addEvent(this.playPauseBtn, 'click', function () {\n      motion.togglePlayPause();\n    });\n    Highcharts.addEvent(this.playRange, 'mouseup', function () {\n      motion.attractToStep();\n    });\n    Highcharts.addEvent(this.playRange, 'input', function () {\n      motion.updateChart(this.value);\n    });\n\n    // Request focus to the controls when clicking on controls div\n    Highcharts.addEvent(this.playControls, 'click', function () {\n      motion.playRange.focus();\n    });\n    // Bind keys to events\n    Highcharts.addEvent(this.playPauseBtn, 'keydown', handleKeyEvents);\n    Highcharts.addEvent(this.playRange, 'keydown', handleKeyEvents);\n\n    // Initial value\n    this.inputValue = parseFloat(this.playRange.value);\n\n    // Initial update\n    this.updateChart(this.inputValue);\n\n    // Auto-play\n    if (this.options.autoPlay) {\n      this.play();\n    }\n  }\n\n  // Default options for Motion\n  Motion.prototype.defaultOptions = {\n    enabled: true,\n    axisLabel: 'year',\n    autoPlay: false,\n    loop: false,\n    series: 0,\n    updateInterval: 10,\n    magnet: {\n      round: 'round',\n      step: 0.01,\n    },\n    playIcon: 'fa fa-play',\n    pauseIcon: 'fa fa-pause',\n  };\n\n  // Toggles between Play and Pause states, and makes calls to changeButtonType()\n  // From http://www.creativebloq.com/html5/build-custom-html5-video-player-9134473\n  Motion.prototype.togglePlayPause = function () {\n    this[this.paused ? 'play' : 'pause']();\n  };\n\n  // Plays the motion, continuously updating the chart\n  Motion.prototype.play = function () {\n    const motion = this;\n    if (\n      this.paused &&\n      parseFloat(this.playRange.value) === parseFloat(this.playRange.max)\n    ) {\n      this.reset();\n    }\n    this.changeButtonType('pause');\n    this.paused = false;\n    this.timer = setInterval(function () {\n      motion.playUpdate();\n    }, this.options.updateInterval);\n  };\n\n  // Pauses the motion, which stops updating the chart\n  Motion.prototype.pause = function () {\n    this.changeButtonType('play');\n    this.paused = true;\n    window.clearInterval(this.timer);\n    this.attractToStep();\n  };\n\n  // Resets the motion and updates the chart. Does not pause\n  Motion.prototype.reset = function () {\n    this.playRange.value = this.playRange.min;\n    this.updateChart(this.playRange.value);\n  };\n\n  // Updates a button's title, innerHTML and CSS class to a certain value\n  Motion.prototype.changeButtonType = function (value) {\n    this.playPauseBtn.title = value;\n    this.playPauseBtn.className = value + ' ';\n    if (value === 'play') {\n      this.playPauseBtn.className += this.options.playIcon;\n    } else if (value === 'pause') {\n      this.playPauseBtn.className += this.options.pauseIcon;\n    }\n  };\n\n  // Called continuously while playing\n  Motion.prototype.playUpdate = function () {\n    if (!this.paused) {\n      this.inputValue = parseFloat(this.playRange.value);\n      this.playRange.value = this.inputValue + this.options.magnet.step;\n      this.attractToStep();\n      this.updateChart(this.playRange.value); // Use playRange.value to get updated value\n      if (this.playRange.value >= parseFloat(this.playRange.max)) {\n        // Auto-pause\n        if (this.options.loop) {\n          this.reset();\n        } else {\n          this.pause();\n        }\n      }\n    }\n  };\n\n  // Updates chart data and redraws the chart\n  Motion.prototype.updateChart = function (inputValue) {\n    let seriesKey;\n    let series;\n    let data;\n    const roundedInput = this.options.labels[this.round(inputValue)];\n    if (this.currentAxisValue !== roundedInput) {\n      this.currentAxisValue = roundedInput;\n      this.chart.options.motion.startIndex = roundedInput;\n      for (seriesKey in this.dataSeries) {\n        if (this.dataSeries.hasOwnProperty(seriesKey)) {\n          series = this.dataSeries[seriesKey];\n          if (isEmpty(series.options.fullData)) return;\n          const fullData = series.options.fullData[roundedInput].TT;\n          if(seriesKey === '0'){\n            data = updateConfirmedCases(fullData, roundedInput);\n          }\n          else if(seriesKey === '1'){\n            data = updatePredictedCases(fullData, roundedInput);\n          }\n          series.setData(data);\n        }\n      }\n      this.chart.redraw();\n      this.attractToStep();\n    }\n  };\n\n  function updateConfirmedCases(fullData, selectedDate){\n    return transform(fullData, function(res, v, k) {\n      if(k<=selectedDate){res.push({x: new Date(k), y: v.c})};\n    }, [])    \n  }\n\n  function updatePredictedCases(fullData, selectedDate){\n    return transform(fullData, function(res, v, k) {\n      if(VIDEO_PLAYER.predictionLookAhead && res.length >= VIDEO_PLAYER.predictionLookAhead) return;\n      if(k>=selectedDate){res.push({x: new Date(k), y: v.c})};\n    }, []);\n  }\n\n  // Moves output value to data point\n  Motion.prototype.attractToStep = function () {\n    if (isArray(this.options.labels)) {\n      this.playOutput.innerHTML =\n        format(\n          new Date(this.options.labels[this.round(this.playRange.value)]),\n          'dd MMM, yyyy'\n        ) || '';\n    } else {\n      this.playOutput.innerHTML = this.round(this.playRange.value);\n    }\n  };\n\n  // Returns an integer rounded up, down or even depending on\n  // motion.magnet.round options.\n  Motion.prototype.round = function (number) {\n    return Math[this.options.magnet.round](number);\n  };\n\n  // Initiates motion automatically if motion options object exists and\n  // is not disabled\n  H.Chart.prototype.callbacks.push(function (chart) {\n    if (chart.options.motion && chart.options.motion.enabled) {\n      chart.motion = new Motion(chart);\n    }\n  });\n\n  H.Motion = Motion;\n})(Highcharts);\n","import {keys, transform, isEmpty} from 'lodash';\nimport React, {useState, useEffect} from 'react';\nimport Highcharts from 'highcharts/highstock';\nimport HighchartsReact from 'highcharts-react-official';\nimport axios from 'axios';\nimport {format} from 'date-fns';\nimport plugin from './motion.js';\nimport {Helmet} from 'react-helmet';\nimport Footer from './footer';\nimport {formatNumber} from '../utils/commonfunctions';\nimport {VIDEO_PLAYER} from '../constants'\n\nfunction VideoPlayer({}) {\n  const [options, setOptions] = useState({});\n\n  const chartOptions = {\n    title: {\n      text: 'COVID-19 Predictions',\n    },\n    chart: {\n      type: 'spline',\n      height: 600\n    },\n    series: [\n      {\n        name: 'Confirmed Cases',\n        dataGrouping: {\n          forced: true,\n          units: [['month', [1]]],\n        },\n        color: 'orange',\n      },\n      {\n        name: 'Predicted Cases',\n        dataGrouping: {\n          forced: true,\n          units: [['month', [1]]]\n        },\n        color: '#7cb5ec'\n      }\n    ],\n    legend:{\n      align: 'right',\n      verticalAlign: 'top',\n      layout: 'vertical',\n      x: -10,\n      y: 50,\n      floating: true\n    },\n    tooltip: {\n      formatter: function () {\n        return (\n          '<b>' +\n          formatNumber(this.y) +\n          '</b><br/>' +\n          format(this.x, 'dd MMM, yyyy')\n        );\n      },\n    },\n    credits: {\n      enabled: false,\n    },\n    xAxis: {\n      type: 'datetime',\n      tickInterval: 30 * 24 * 3600 * 1000,\n      range: 12 * 30 * 24 * 3600 * 1000,\n    },\n    yAxis: {\n      title: {\n        text: 'Daily Reported Cases',\n      },\n      max: 175000,\n      min: 0,\n      tickAmount: 10,\n    },\n    motion: {\n      enabled: true,\n      axisLabel: 'date',\n      loop: false,\n      updateInterval: 1000,\n      magnet: {\n        round: 'round',\n        step: 1,\n      },\n    },\n  };\n\n  useEffect(() => {\n    axios.get('https://vics-core.github.io/covid-api/vp/1.1740.json')\n      .then(res => {\n        const data = res.data;\n        const labels =  keys(data);\n        chartOptions.series[0].fullData = data;\n        chartOptions.motion.labels = labels;\n        const highlightedDate = labels[labels.length - 1]\n        chartOptions.series[0].data = (transform(res.data[highlightedDate].TT, function(res, v, k) {\n          if(k<=highlightedDate){res.push({x: new Date(k), y: v.c})};\n        }, []));\n        if(VIDEO_PLAYER.showPredictions){\n          chartOptions.series[1].fullData = data;\n          chartOptions.series[1].data = (transform(res.data[highlightedDate].TT, function(res, v, k) {\n            if(VIDEO_PLAYER.predictionLookAhead && res.length >= VIDEO_PLAYER.predictionLookAhead)  return;\n            if(k>=highlightedDate){res.push({x: new Date(k), y: v.c})};\n          }, []));\n        }\n        else{\n          chartOptions.yAxis.max = 40000\n        }\n        setOptions(chartOptions);\n    });\n  },[]);\n\n  return (\n    <div className=\"VideoPlayer\">\n      <Helmet>\n        <title>Video Player - seva.ml</title>\n        <meta name=\"title\" content={`Video Player - seva.ml`} />\n        <meta\n          name=\"description\"\n          content=\"A video to demonstrate how the predictions are changing per day.\"\n        />\n      </Helmet>\n\n      <div className=\"header fadeInUp\" style={{animationDelay: '0.3s'}}>\n        <h1>Video Player</h1>\n      </div>\n      { !isEmpty(options) && <HighchartsReact\n        options={options}\n        highcharts={Highcharts}\n      ></HighchartsReact>}\n      <Footer />\n    </div>\n  );\n}\n\nexport default React.memo(VideoPlayer);\n"],"sourceRoot":""}