{"version":3,"sources":["components/footer.js","components/constants/chart-options.js","components/motion.js","components/videoplayer.js"],"names":["React","memo","props","t","useTranslation","className","style","animationDelay","href","target","rel","justifyContent","chartOptions","title","text","chart","type","height","series","name","dataGrouping","forced","units","color","legend","align","verticalAlign","layout","x","y","floating","tooltip","formatter","formatNumber","this","format","credits","enabled","xAxis","tickInterval","range","yAxis","max","min","tickAmount","motion","axisLabel","loop","updateInterval","magnet","round","step","H","Motion","handleKeyEvents","e","window","event","which","togglePlayPause","playRange","value","parseFloat","updateChart","preventDefault","paused","options","merge","defaultOptions","dataLength","startIndex","splat","labels","length","playControls","createElement","id","renderTo","parentElement","playPauseBtn","playIcon","pick","playOutput","innerHTML","Date","predictionControl","noPrediction","noPredictionLabel","for","shortTermPrediction","shortTermPredictionLabel","longTermPrediction","checked","longTermPredictionLabel","Highcharts","addEvent","attractToStep","focus","inputValue","autoPlay","play","prototype","pauseIcon","reset","changeButtonType","timer","setInterval","playUpdate","pause","clearInterval","roundedInput","filter","currentAxisValue","each","charts","index","data","i","fullData","TT","isEmpty","Object","assign","selectedDate","transform","res","v","k","push","c","updateConfirmedCases","isNaN","updatePredictedCases","setData","updateChartSeries","p","update","updateYAxis","redraw","obj","toString","call","number","Math","Chart","callbacks","useState","setOptions","queryStringParams","queryString","parse","location","search","models","model","split","useEffect","requests","axios","get","all","then","responses","ops","intersection","map","r","keys","highlightedDate","response","option","cloneDeep","concat","Helmet","content","key","highcharts"],"mappings":"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","file":"static/js/24.44746db3.chunk.js","sourcesContent":["import React from 'react';\nimport * as Icon from 'react-feather';\nimport {useTranslation} from 'react-i18next';\n\nfunction Footer(props) {\n  const {t} = useTranslation();\n\n  return (\n    <footer className=\"fadeInUp\" style={{animationDelay: '2s'}}>\n      <h3>{t('Look forward and drive!')}</h3>\n      <div>\n        <a\n          href=\"https://www.facebook.com/indiacovidseva\"\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n          className=\"facebook\"\n          style={{justifyContent: 'center'}}\n        >\n          <Icon.Facebook />\n        </a>\n\n        <a\n          href=\"https://twitter.com/indiacovidseva\"\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n          className=\"twitter\"\n          style={{justifyContent: 'center'}}\n        >\n          <Icon.Twitter />\n        </a>\n\n        <a\n          href=\"https://www.linkedin.com/company/indiacovidseva\"\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n          className=\"linkedin\"\n          style={{justifyContent: 'center'}}\n        >\n          <Icon.Linkedin />\n        </a>\n\n        <a\n          href=\"https://github.com/VICS-CORE/covid19india-react\"\n          className=\"github\"\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n        >\n          <Icon.GitHub />\n        </a>\n      </div>\n\n      <h5>Built on covid19india.org</h5>\n    </footer>\n  );\n}\n\nexport default React.memo(Footer);\n","import {formatNumber} from '../../utils/commonfunctions';\n\nimport {format} from 'date-fns';\n\nexport const chartOptions = {\n  title: {\n    text: 'COVID-19 Predictions',\n  },\n  chart: {\n    type: 'spline',\n    height: 600,\n  },\n  series: [\n    {\n      name: 'Confirmed Cases',\n      dataGrouping: {\n        forced: true,\n        units: [['month', [1]]],\n      },\n      color: 'orange',\n    },\n    {\n      name: 'Predicted Cases',\n      dataGrouping: {\n        forced: true,\n        units: [['month', [1]]],\n      },\n      color: '#7cb5ec',\n    },\n  ],\n  legend: {\n    align: 'right',\n    verticalAlign: 'top',\n    layout: 'vertical',\n    x: -10,\n    y: 50,\n    floating: true,\n  },\n  tooltip: {\n    formatter: function () {\n      return (\n        '<b>' +\n        formatNumber(this.y) +\n        '</b><br/>' +\n        format(this.x, 'dd MMM, yyyy')\n      );\n    },\n  },\n  credits: {\n    enabled: false,\n  },\n  xAxis: {\n    type: 'datetime',\n    tickInterval: 30 * 24 * 3600 * 1000,\n    range: 12 * 30 * 24 * 3600 * 1000,\n  },\n  yAxis: {\n    title: {\n      text: 'Daily Reported Cases',\n    },\n    max: 175000,\n    min: 0,\n    tickAmount: 10,\n  },\n  motion: {\n    enabled: true,\n    axisLabel: 'date',\n    loop: false,\n    updateInterval: 1000,\n    magnet: {\n      round: 'round',\n      step: 1,\n    },\n  },\n};\n","/**\n * @license http://creativecommons.org/licenses/by-sa/4.0/ Creative Commons Attribution-ShareAlike 4.0 International (CC BY-SA 4.0)\n * @author  Lars Cabrera\n * @version 1.0.9\n */\n\nimport {format} from 'date-fns';\nimport Highcharts from 'highcharts/highstock';\nimport {transform, isEmpty, filter} from 'lodash';\nimport 'font-awesome/css/font-awesome.min.css';\n\n// JSLint options:\n/* global window*/\n(function (H) {\n  // Check if object is array\n  function isArray(obj) {\n    return Object.prototype.toString.call(obj) === '[object Array]';\n  }\n\n  // Sets up motion ready to use\n  function Motion(chart) {\n    const motion = this;\n\n    this.chart = chart;\n    this.paused = true;\n    this.options = H.merge(this.defaultOptions, this.chart.options.motion);\n    this.dataLength = 0;\n    this.options.startIndex = 0;\n    motion.options.series = H.splat(motion.options.series);\n    motion.dataLength =\n      motion.options && motion.options.labels && motion.options.labels.length;\n\n    // Play-controls HTML-div\n    this.playControls = H.createElement(\n      'div',\n      {\n        id: 'play-controls',\n      },\n      null,\n      this.chart.renderTo.parentElement.parentElement,\n      null\n    );\n\n    // Play/pause HTML-button\n    this.playPauseBtn = H.createElement(\n      'button',\n      {\n        id: 'play-pause-button',\n        title: 'play',\n      },\n      null,\n      this.playControls,\n      null\n    );\n    this.playPauseBtn.className = this.options.playIcon;\n    this.playPauseBtn.value = 'Play';\n\n    // Play-range HTML-input\n    this.playRange = H.createElement(\n      'input',\n      {\n        id: 'play-range',\n        type: 'range',\n        min: 0,\n        max: this.dataLength - 1,\n        step: this.options.magnet.step,\n      },\n      null,\n      this.playControls,\n      null\n    );\n    // Important: max must be set before value in order to allow for\n    // higher numbers than 100.\n    this.playRange.value = H.pick(this.options.startIndex, this.dataLength - 1);\n\n    // Play-range HTML-output\n    this.playOutput = H.createElement(\n      'label',\n      {\n        id: 'play-output',\n        name: this.options.axisLabel,\n      },\n      null,\n      this.playControls,\n      null\n    );\n\n    this.playOutput.innerHTML = format(\n      new Date(this.options.labels[this.round(this.playRange.value)]),\n      'dd MMM, yyyy'\n    );\n\n    // predictionControl div wrapper for radio buttons\n    this.predictionControl = H.createElement(\n      'div',\n      {\n        id: 'prediction-control',\n      },\n      null,\n      this.chart.renderTo.parentElement.parentElement,\n      null\n    );\n\n    this.noPrediction = H.createElement(\n      'input',\n      {\n        type: 'radio',\n        name: 'prediction-control',\n        id: 'no-prediction',\n        value: 0,\n      },\n      null,\n      this.predictionControl,\n      null\n    );\n\n    this.noPredictionLabel = H.createElement(\n      'label',\n      {\n        for: 'no-prediction',\n      },\n      null,\n      this.predictionControl,\n      null\n    );\n    this.noPredictionLabel.innerHTML = 'No Prediction';\n\n    this.shortTermPrediction = H.createElement(\n      'input',\n      {\n        type: 'radio',\n        name: 'prediction-control',\n        id: 'short-term-prediction',\n        value: 20,\n      },\n      null,\n      this.predictionControl,\n      null\n    );\n\n    this.shortTermPredictionLabel = H.createElement(\n      'label',\n      {\n        for: 'short-term-prediction',\n      },\n      null,\n      this.predictionControl,\n      null\n    );\n    this.shortTermPredictionLabel.innerHTML = 'Short Term Prediction';\n\n    this.longTermPrediction = H.createElement(\n      'input',\n      {\n        type: 'radio',\n        name: 'prediction-control',\n        id: 'long-term-prediction',\n        value: 'Infinite',\n        checked: true,\n      },\n      null,\n      this.predictionControl,\n      null\n    );\n\n    this.longTermPredictionLabel = H.createElement(\n      'label',\n      {\n        for: 'long-term-prediction',\n      },\n      null,\n      this.predictionControl,\n      null\n    );\n    this.longTermPredictionLabel.innerHTML = 'Long Term Prediction';\n\n    // Common key event handler function\n    function handleKeyEvents(e) {\n      e = e || window.event;\n      switch (e.which) {\n        case 32: // Space\n          motion.togglePlayPause();\n          break;\n        case 37: // Left\n          motion.playRange.value = motion.round(\n            parseFloat(motion.playRange.value) - 1\n          );\n          motion.updateChart(motion.playRange.value);\n          break;\n        case 39: // Right\n          motion.playRange.value = motion.round(\n            parseFloat(motion.playRange.value) + 1\n          );\n          motion.updateChart(motion.playRange.value);\n          break;\n        default:\n          return;\n      }\n      e.preventDefault();\n    }\n\n    // Bind controls to events\n    Highcharts.addEvent(this.playPauseBtn, 'click', function () {\n      motion.togglePlayPause();\n    });\n    Highcharts.addEvent(this.playRange, 'mouseup', function () {\n      motion.attractToStep();\n    });\n    Highcharts.addEvent(this.playRange, 'input', function () {\n      motion.updateChart(this.value);\n    });\n    Highcharts.addEvent(this.predictionControl, 'change', function () {\n      motion.updateChart(motion.playRange.value);\n    });\n\n    // Request focus to the controls when clicking on controls div\n    Highcharts.addEvent(this.playControls, 'click', function () {\n      motion.playRange.focus();\n    });\n    // Bind keys to events\n    Highcharts.addEvent(this.playPauseBtn, 'keydown', handleKeyEvents);\n    Highcharts.addEvent(this.playRange, 'keydown', handleKeyEvents);\n\n    // Initial value\n    this.inputValue = parseFloat(this.playRange.value);\n\n    // Initial update\n    this.updateChart(this.inputValue);\n\n    // Auto-play\n    if (this.options.autoPlay) {\n      this.play();\n    }\n  }\n\n  // Default options for Motion\n  Motion.prototype.defaultOptions = {\n    enabled: true,\n    axisLabel: 'year',\n    autoPlay: false,\n    loop: false,\n    series: 0,\n    updateInterval: 10,\n    magnet: {\n      round: 'round',\n      step: 0.01,\n    },\n    playIcon: 'fa fa-play',\n    pauseIcon: 'fa fa-pause',\n  };\n\n  // Toggles between Play and Pause states, and makes calls to changeButtonType()\n  // From http://www.creativebloq.com/html5/build-custom-html5-video-player-9134473\n  Motion.prototype.togglePlayPause = function () {\n    this[this.paused ? 'play' : 'pause']();\n  };\n\n  // Plays the motion, continuously updating the chart\n  Motion.prototype.play = function () {\n    const motion = this;\n    if (\n      this.paused &&\n      parseFloat(this.playRange.value) === parseFloat(this.playRange.max)\n    ) {\n      this.reset();\n    }\n    this.changeButtonType('pause');\n    this.paused = false;\n    this.timer = setInterval(function () {\n      motion.playUpdate();\n    }, this.options.updateInterval);\n  };\n\n  // Pauses the motion, which stops updating the chart\n  Motion.prototype.pause = function () {\n    this.changeButtonType('play');\n    this.paused = true;\n    window.clearInterval(this.timer);\n    this.attractToStep();\n  };\n\n  // Resets the motion and updates the chart. Does not pause\n  Motion.prototype.reset = function () {\n    this.playRange.value = this.playRange.min;\n    this.updateChart(this.playRange.value);\n  };\n\n  // Updates a button's title, innerHTML and CSS class to a certain value\n  Motion.prototype.changeButtonType = function (value) {\n    this.playPauseBtn.title = value;\n    this.playPauseBtn.className = value + ' ';\n    if (value === 'play') {\n      this.playPauseBtn.className += this.options.playIcon;\n    } else if (value === 'pause') {\n      this.playPauseBtn.className += this.options.pauseIcon;\n    }\n  };\n\n  // Called continuously while playing\n  Motion.prototype.playUpdate = function () {\n    if (!this.paused) {\n      this.inputValue = parseFloat(this.playRange.value);\n      this.playRange.value = this.inputValue + this.options.magnet.step;\n      this.attractToStep();\n      this.updateChart(this.playRange.value); // Use playRange.value to get updated value\n      if (this.playRange.value >= parseFloat(this.playRange.max)) {\n        // Auto-pause\n        if (this.options.loop) {\n          this.reset();\n        } else {\n          this.pause();\n        }\n      }\n    }\n  };\n\n  // Updates chart data and redraws the chart\n  Motion.prototype.updateChart = function (inputValue) {\n    const roundedInput = this.options.labels[this.round(inputValue)];\n    let predictionControl =\n      filter(\n        [this.noPrediction, this.shortTermPrediction, this.longTermPrediction],\n        'checked'\n      )[0] || this.longTermPrediction;\n    predictionControl = predictionControl.value;\n    if (\n      this.currentAxisValue !== roundedInput ||\n      this.predictionControl.value !== predictionControl\n    ) {\n      this.currentAxisValue = roundedInput;\n      this.predictionControl.value = predictionControl;\n      this.chart.options.motion.startIndex = roundedInput;\n      H.each(H.charts, function (chart, index) {\n        updateChartSeries(chart, roundedInput, predictionControl);\n        updateYAxis(predictionControl);\n        chart.redraw();\n      });\n      this.attractToStep();\n    }\n  };\n\n  function updateChartSeries(chart, roundedInput, predictionControl) {\n    let data;\n    H.each(chart.series, function (series, i) {\n      const fullData =\n        chart.options.chart.fullData &&\n        chart.options.chart.fullData[roundedInput].TT;\n      if (isEmpty(fullData)) return;\n      if (i === 0) {\n        data = Object.assign(updateConfirmedCases(fullData, roundedInput));\n      } else if (i === 1) {\n        data = Object.assign(\n          updatePredictedCases(fullData, roundedInput, predictionControl)\n        );\n      }\n      series.setData(data);\n    });\n  }\n\n  function updateYAxis(predictionControl) {\n    const max = isNaN(predictionControl) ? 175000 : 80000;\n    H.each(H.charts, function (p, i) {\n      p.yAxis[0].update({\n        max: max,\n      });\n    });\n  }\n\n  function updateConfirmedCases(fullData, selectedDate) {\n    return transform(\n      fullData,\n      function (res, v, k) {\n        if (k <= selectedDate) {\n          res.push({x: new Date(k), y: v.c});\n        }\n      },\n      []\n    );\n  }\n\n  function updatePredictedCases(fullData, selectedDate, predictionControl) {\n    return transform(\n      fullData,\n      function (res, v, k) {\n        if (!isNaN(predictionControl) && res.length >= predictionControl)\n          return;\n        if (k >= selectedDate) {\n          res.push({x: new Date(k), y: v.c});\n        }\n      },\n      []\n    );\n  }\n\n  // Moves output value to data point\n  Motion.prototype.attractToStep = function () {\n    if (isArray(this.options.labels)) {\n      this.playOutput.innerHTML =\n        format(\n          new Date(this.options.labels[this.round(this.playRange.value)]),\n          'dd MMM, yyyy'\n        ) || '';\n    } else {\n      this.playOutput.innerHTML = this.round(this.playRange.value);\n    }\n  };\n\n  // Returns an integer rounded up, down or even depending on\n  // motion.magnet.round options.\n  Motion.prototype.round = function (number) {\n    return Math[this.options.magnet.round](number);\n  };\n\n  // Initiates motion automatically if motion options object exists and\n  // is not disabled\n  H.Chart.prototype.callbacks.push(function (chart) {\n    if (\n      chart.options.motion &&\n      chart.options.motion.enabled &&\n      H.charts.length === 1\n    ) {\n      chart.motion = new Motion(chart);\n    }\n  });\n\n  H.Motion = Motion;\n})(Highcharts);\n","import {chartOptions} from './constants/chart-options';\nimport Footer from './footer';\n\nimport axios from 'axios';\nimport HighchartsReact from 'highcharts-react-official';\nimport Highcharts from 'highcharts/highstock';\nimport {keys, transform, intersection, cloneDeep} from 'lodash';\nimport queryString from 'query-string';\nimport React, {useState, useEffect} from 'react';\nimport {Helmet} from 'react-helmet';\n\nimport './motion.js';\n\nfunction VideoPlayer() {\n  const [options, setOptions] = useState([]);\n  const queryStringParams = queryString.parse(window.location.search);\n  const models =\n    queryStringParams && queryStringParams.model\n      ? queryStringParams.model.split(',')\n      : ['1.1740'];\n\n  useEffect(() => {\n    const requests = [];\n    for (const model of models) {\n      requests.push(\n        axios.get(`https://vics-core.github.io/covid-api/vp/${model}.json`)\n      );\n    }\n\n    axios.all(requests).then((responses) => {\n      let ops = [];\n      const labels = intersection(...responses.map((r) => keys(r.data)));\n      const highlightedDate = labels[labels.length - 1];\n      responses.map((response, index) => {\n        const option = cloneDeep(chartOptions);\n        const data = response.data;\n        option.chart.fullData = data;\n        option.motion.labels = labels;\n        updateConfirmedCases(option, highlightedDate);\n        updatePredictedCases(option, highlightedDate);\n        ops = ops.concat(option);\n      });\n      setOptions(ops);\n    });\n\n    function updatePredictedCases(option, highlightedDate) {\n      const data = option.chart.fullData;\n      if (data[highlightedDate]) {\n        option.series[1].data = transform(\n          data[highlightedDate].TT,\n          function (res, v, k) {\n            if (k >= highlightedDate) {\n              res.push(createSeriesData(k, v));\n            }\n          },\n          []\n        );\n      }\n    }\n  }, []);\n\n  function updateConfirmedCases(option, highlightedDate) {\n    option.series[0].data = transform(\n      option.chart.fullData[highlightedDate].TT,\n      function (res, v, k) {\n        if (k <= highlightedDate) {\n          res.push({x: new Date(k), y: v.c});\n        }\n      },\n      []\n    );\n  }\n\n  function createSeriesData(key, value) {\n    return {x: new Date(key), y: value.c};\n  }\n\n  return (\n    <div className=\"VideoPlayer\">\n      <Helmet>\n        <title>Video Player - seva.ml</title>\n        <meta name=\"title\" content={`Video Player - seva.ml`} />\n        <meta\n          name=\"description\"\n          content=\"A video to demonstrate how the predictions are changing per day.\"\n        />\n      </Helmet>\n\n      <div className=\"header fadeInUp\" style={{animationDelay: '0.3s'}}>\n        <h1>Video Player</h1>\n      </div>\n      <div className=\"models\">\n        {options.map((option, index) => {\n          return (\n            <div className=\"model\" key={index}>\n              <HighchartsReact\n                options={option}\n                highcharts={Highcharts}\n              ></HighchartsReact>\n            </div>\n          );\n        })}\n      </div>\n      <Footer />\n    </div>\n  );\n}\n\nexport default React.memo(VideoPlayer);\n"],"sourceRoot":""}