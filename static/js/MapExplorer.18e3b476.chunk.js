(this.webpackJsonpcovid19india=this.webpackJsonpcovid19india||[]).push([[16],{272:function(t,e,i){"use strict";i.r(e);var o=i(27),a=i(90),n=i(17),d=i(7),c=i.n(d),s=(i(113),i(24)),l=i(96),r=i.n(l),T=i(99),u=i.n(T),p=i(109),v=i(32),j=i.n(v),O=i(326),m=i(94),f=i(101);Object(d.lazy)((function(){return Promise.all([i.e(0),i.e(1),i.e(29),i.e(17)]).then(i.bind(null,330))}));e.default=c.a.memo((function(t){var e=t.stateCode,i=t.data,l=t.regionHighlighted,T=t.setRegionHighlighted,u=t.anchor,v=(t.setAnchor,t.mapStatistic),b=(t.setMapStatistic,t.isCountryLoaded),S=void 0===b||b,C=(Object(O.a)().t,Object(m.g)(),Object(d.useRef)(),Object(d.useState)({code:e,view:n.j.DISTRICTS,option:n.f[e].mapType===n.i.COUNTRY?n.g.HOTSPOTS:n.g.TOTAL})),g=Object(a.a)(C,2),h=g[0],I=g[1],N=n.f[h.code];N.mapType===n.i.COUNTRY||Object(o.a)({},h.code,i[h.code]),Object(d.useEffect)((function(){if(l.districtName){if(h.code!==l.stateCode&&(N.mapType!==n.i.COUNTRY||h.view!==n.j.DISTRICTS)){if(!n.f[l.stateCode])return;I({code:l.stateCode,view:n.j.DISTRICTS,option:h.option===n.g.PER_MILLION?n.g.TOTAL:h.option})}}else S&&N.mapType===n.i.STATE&&I({code:"TT",view:h.option===n.g.ZONES?n.j.DISTRICTS:n.j.STATES,option:h.option})}),[S,l.stateCode,l.districtName,h.code,h.option,h.view,N.mapType]);var R=Object(d.useCallback)((function(t){var e=n.f[t];if(e)if(e.mapType===n.i.STATE){var o=i[t].districts||{},a=Object.keys(o).sort((function(t,e){return Object(s.j)(o[e],"total",v)-Object(s.j)(o[t],"total",v)}))[0];j.a.unstable_batchedUpdates((function(){T({stateCode:t,districtName:a}),I({code:t,view:n.j.DISTRICTS,option:h.option===n.g.PER_MILLION?n.g.TOTAL:h.option})}))}else j.a.unstable_batchedUpdates((function(){I({code:"TT",view:h.option===n.g.HOTSPOTS?n.j.DISTRICTS:n.j.STATES,option:h.option}),T({stateCode:"TT",districtName:null})}))}),[i,h.option,v,T]);Object(d.useEffect)((function(){R(e)}),[e,R]);var E=Object(d.useMemo)((function(){var t=h.view===n.j.STATES?l.stateCode:h.code,e=i[t]||{};return Object(p.a)(e,(function(e){e.state=n.p[t]}))}),[i,l.stateCode,h.view,h.code]);return Object(d.useMemo)((function(){var t,e,o=(l.districtName?null===(t=i[l.stateCode])||void 0===t||null===(e=t.districts)||void 0===e?void 0:e[l.districtName]:i[l.stateCode])||{};return Object(p.a)(o,(function(t){t.name=l.districtName||n.p[l.stateCode],l.districtName||(t.population_millions=n.r[l.stateCode])}))}),[i,l.stateCode,l.districtName]),Object(f.d)(n.h.length,n.h.map((function(t){return{total:Object(s.j)(E,"total",t),delta:Object(s.j)(E,"delta",t),from:{total:Object(s.j)(E,"total",t),delta:Object(s.j)(E,"delta",t)},config:{tension:500,clamp:!0}}}))),c.a.createElement("div",{className:r()("MapExplorer",{stickied:"mapexplorer"===u},{hidden:u&&"mapexplorer"!==u})})}),(function(t,e){var i,o,a,n,d,c,s,l,r,T;return!!u()(t.stateCode,e.stateCode)&&(!!u()(t.regionHighlighted,e.regionHighlighted)&&(!!u()(t.mapStatistic,e.mapStatistic)&&(!!u()(t.anchor,e.anchor)&&(!!u()(null===(i=t.data)||void 0===i||null===(o=i.TT)||void 0===o||null===(a=o.meta)||void 0===a?void 0:a.last_updated,null===(n=e.data)||void 0===n||null===(d=n.TT)||void 0===d||null===(c=d.meta)||void 0===c?void 0:c.last_updated)&&!!u()(null===(s=t.data)||void 0===s||null===(l=s.TT)||void 0===l?void 0:l.total,null===(r=e.data)||void 0===r||null===(T=r.TT)||void 0===T?void 0:T.total)))))}))}}]);
//# sourceMappingURL=MapExplorer.18e3b476.chunk.js.map