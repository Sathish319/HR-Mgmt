(this.webpackJsonpcovid19india=this.webpackJsonpcovid19india||[]).push([[11],{280:function(e,t,a){"use strict";a.r(t);var n=a(117),l=a(90),c=a(17),i=a(28),r=a.n(i),s=a(83),o=a(7),u=a.n(o),d=a(120),m=a(317),b=a(133),f=(a(156),Object(o.lazy)((function(){return Promise.all([a.e(2),a.e(4),a.e(21)]).then(a.bind(null,261))}))),v=Object(o.lazy)((function(){return Promise.all([a.e(31),a.e(14)]).then(a.bind(null,262))})),j=Object(o.lazy)((function(){return Promise.all([a.e(1),a.e(3),a.e(32),a.e(6)]).then(a.bind(null,247))})),h=Object(o.lazy)((function(){return Promise.all([a.e(2),a.e(19)]).then(a.bind(null,248))})),O=Object(o.lazy)((function(){return Promise.all([a.e(0),a.e(5),a.e(16)]).then(a.bind(null,249))})),E=Object(o.lazy)((function(){return a.e(10).then(a.bind(null,135))})),g=Object(o.lazy)((function(){return Promise.all([a.e(2),a.e(13)]).then(a.bind(null,250))}));function T(e){var t=new Date(e);return t.setDate(t.getDate()-1),Object(s.a)(t,"yyyy-MM-dd")}function p(e,t,a){var n={};for(var l in e)for(var c in n[l]={},e[l])c!==a&&(n[l][c]={},n[l][c].delta=e[l][c].delta,n[l][c].total=e[l][c].total);for(var i in t)for(var r in t[i])if(!(r<a)){n[i][r]={};var s=T(r);for(var o in n[i][r].delta=t[i][r].delta,n[i][r].total={},n[i][r].delta)n[i][r].total[o]=n[i][s].total[o]+n[i][r].delta[o]}return n}t.default=function(e){var t=Object(o.useState)({stateCode:"TT",districtName:null}),a=Object(l.a)(t,2),i=a[0],T=a[1],y=Object(o.useState)(null),S=Object(l.a)(y,2),k=S[0],P=S[1],H=Object(o.useState)("active"),w=Object(l.a)(H,2),z=w[0],C=w[1],D=Object(s.a)(new Date,"yyyy-MM-dd"),N=Object(o.useState)(D),I=Object(l.a)(N,2),M=I[0],A=I[1],R=Object(o.useState)({}),F=Object(l.a)(R,2),J=F[0],V=F[1],x=Object(o.useState)({}),q=Object(l.a)(x,2),B=q[0],G=q[1],K=Object(m.a)().t;Object(o.useEffect)((function(){var e=r.a.get("https://api.covid19india.org/v3/min/timeseries.min.json"),t=r.a.get("https://vics-core.github.io/covid-api/predictions.json");r.a.all([e,t]).then(r.a.spread((function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];var n=t[0].data,l=t[1].data,c=p(n,l,D);G(c)})))}),[D]),Object(o.useEffect)((function(){var e={};if(M<D){var t=M===D?"":"-".concat(M);r.a.get("https://api.covid19india.org/v3/min/data".concat(t,".min.json")).then((function(t){e=t.data,V(e)}))}else{for(var a in B)B.hasOwnProperty(a)&&(e[a]=B[a][M]);V(e)}}),[M,B,D]);var L=Object(o.useRef)(),Q=Object(b.useIsVisible)(L,{once:!0}),U=["TT"].concat(Object(n.a)(Object(n.a)(new Set([].concat(Object(n.a)(Object.keys(c.f).filter((function(e){return"TT"!==e}))),Object(n.a)(Object.keys(J||{}).filter((function(e){return"TT"!==e})))))).sort()));return u.a.createElement(u.a.Fragment,null,u.a.createElement(d.a,null,u.a.createElement("title",null,"Coronavirus Projections for India - seva.ml"),u.a.createElement("meta",{name:"title",content:"Coronavirus Projections for India"})),u.a.createElement("div",{className:"Home"},u.a.createElement("div",{className:"home-left"},u.a.createElement("div",{className:"header"},u.a.createElement(o.Suspense,{fallback:u.a.createElement("div",null)},u.a.createElement("div",{className:"Search"},u.a.createElement("label",null,K("COVID-19 AI Predictions")))),B.TT&&u.a.createElement(o.Suspense,{fallback:u.a.createElement("div",{style:{minHeight:"56px"}})},u.a.createElement(j,{setDate:A,dates:Object.keys(B.TT).reverse(),date:M}))),J.TT&&u.a.createElement(o.Suspense,{fallback:u.a.createElement("div",null)},u.a.createElement(g,{data:J.TT})),u.a.createElement(o.Suspense,{fallback:u.a.createElement("div",null)},B.TT&&u.a.createElement(O,Object.assign({timeseries:B.TT},{date:M}))),u.a.createElement(o.Suspense,{fallback:u.a.createElement("div",null)},J.TT&&u.a.createElement(h,{data:J,regionHighlighted:i,setRegionHighlighted:T}))),u.a.createElement("div",{className:"home-right",ref:L},Q&&u.a.createElement(u.a.Fragment,null,J&&u.a.createElement(o.Suspense,{fallback:u.a.createElement("div",null)},u.a.createElement(v,Object.assign({stateCode:"TT"},{data:J},{mapStatistic:z,setMapStatistic:C},{regionHighlighted:i,setRegionHighlighted:T},{anchor:k,setAnchor:P}))),B.TT&&u.a.createElement(o.Suspense,{fallback:u.a.createElement("div",null)},u.a.createElement(f,Object.assign({timeseries:B[i.stateCode]},{date:M,stateCodes:U},{regionHighlighted:i,setRegionHighlighted:T},{anchor:k,setAnchor:P})))))),Q&&u.a.createElement(o.Suspense,{fallback:u.a.createElement("div",null)},u.a.createElement(E,null)))}}}]);
//# sourceMappingURL=Home.7a24e9fc.chunk.js.map